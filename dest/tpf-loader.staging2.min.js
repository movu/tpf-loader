!function(t,e){var s=function(){this._protected=["width","height","server","protocol","holderId"],this._settings={width:"100%",height:"100%",server:"www.movu.ch",protocol:"https",holderId:"movu-embedded-widget-holder"},this._errors={NotFoundHolderId:new Error("\nCan't find holder element with id: "+this._settings.holderId+"\n* Use MovuWidget.settings.set('holderId','element name');\n* Or place html elemenent with id: "+this._settings.holderId),CustomerIdNotProvided:new Error("CustomerId Not Provided")},this._params={language:"en"},this._forms=[]},i=s.prototype;i.settings=function(){var t=this;return{set:function(e,s){t._settings[e]=s},get:function(e){return t._settings[e]}}},i.getApiUrl=function(){var t="?";for(var e in this._params)-1===["language","customerId"].indexOf(e)&&(t+="inquiry["+e+"]="+this._params[e]+"&");for(var s in this._settings)-1===this._protected.indexOf(s)&&(t+="config["+s+"]="+encodeURIComponent(this._settings[s])+"&");return"&"===t.substr(-1)&&(t=t.substring(0,t.length-1)),this._settings.protocol+"://"+this._settings.server+"/"+this._params.language+"/tpf_widgets/"+this.getCustomerId()+("?"===t?"":t)},i.isIE=function(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("msie")&&parseInt(t.split("msie")[1])},i.createXhr=function(e){if(this.isIE()<=8&&(!e.match(/^(get|post|head|put|delete|options)$/i)||!t.XMLHttpRequest))return new t.ActiveXObject("Microsoft.XMLHTTP");if(t.XMLHttpRequest)return new t.XMLHttpRequest;throw minErr("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")},i.http=function(t,e){var s=this.isIE(),i=this.createXhr(t.method);if(i.onreadystatechange=function(){4===i.readyState&&(200===i.status?e(null,{status:i.status,statusText:s<10?"":i.statusText,response:"response"in i?i.response:i.responseText}):0!==i.status&&e("response"in i?i.response:i.responseText,{status:i.status,statusText:s<10?"":i.statusText,response:"response"in i?i.response:i.responseText}))},i.open(t.method,t.url),t.headers)for(var r in t.headers)i.setRequestHeader(r,t.headers[r]);return void 0!==t.data?i.send(JSON.stringify(t.data)):i.send(),i},i.form=function(t){var e=this;return void 0===this._forms[t]&&(this._forms[t]={}),{set:function(s,i){e._forms[t][s]=i}}},i.populateForm=function(t,s){if(s=s||"",void 0!==this._forms[t])for(var i in this._forms[t])e.getElementById(s+i).value=this._forms[t][i]},i.params=function(){var t=this;return{set:function(e,s){t._params[e]=s},get:function(e){return t._params[e]}}},i.getCustomerId=function(){if(this.el){var t=this.el.getAttribute("data-customer-id");if(t)return t}return this._params.customerId},i.getCopyright=function(){var t=e.createElement("div"),s=this.params().get("language");return t.style.width="100%",t.style.float="left",t.style.fontSize="12px",t.style.textAlign="right",t.style.marginTop="-25px",t.classList.add("movu-copyrights"),t.innerHTML="<span style='opacity: 0.7'>Copyright &copy; 2017 <a href='https://www.movu.ch/"+s+"/' title='MOVU' style='color: #a7a8aa'>MOVU AG</a>&nbsp;&nbsp;</span>",t},i.init=function(){this.el=e.getElementById(this._settings.holderId),this.iframe=iframe=e.createElement("iframe");var s=this,i=this.getCustomerId();if(void 0===i||null===i)throw this._errors.CustomerIdNotProvided;if(this.el=this.el||e.getElementById(this._settings.holderId),void 0===this.el||null===this.el)throw this._errors.NotFoundHolderId;this.el.style.width=this._settings.width,iframe.frameBorder="0",iframe.marginheight="0",iframe.width="100%",iframe.height="100%",iframe.scrolling="no",t.addEventListener("message",function(t){s.handleSizingResponse.call(s,t)},!1),iframe.onload=function(){iframe.contentWindow.postMessage("sizing?",s.settings().get("protocol")+"://"+s.settings().get("server"))},iframe.src=this.getApiUrl(),this.el.appendChild(iframe),this.el.appendChild(this.getCopyright())},i.getRemoteUrl=function(){return this.settings().get("protocol")+"://"+this.settings().get("server")},i.handleSizingResponse=function(t){t.origin==this.getRemoteUrl()&&"sizing"==t.data.split(":")[0]&&(this.el.style.height=t.data.split(":")[1])},i.tryToAutoInit=function(){var t=e.getElementById(this._settings.holderId);if(t){var s=t.getAttribute("data-autoinit");s&&"true"===s.toLowerCase()&&(this.el=t,this.init())}},t.MovuWidget=new s}(window,document),document.addEventListener("DOMContentLoaded",function(){MovuWidget.tryToAutoInit()});